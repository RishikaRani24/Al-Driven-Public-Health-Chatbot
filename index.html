<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Public Health Chatbot (Multilingual + 50 Diseases)</title>
  <style>
    :root{--bg:#15a97a;--card:#ffffff;--accent:#0b6cf6;--muted:#6b7280}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;padding:0}
    body{background:var(--bg);padding:24px;}
    .app{max-width:980px;margin:0 auto;display:grid;grid-template-columns:1fr 360px;gap:20px}
    header{grid-column:1/-1;margin-bottom:8px}
    .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(15,23,42,0.06)}
    .chat{display:flex;flex-direction:column;height:620px}
    .messages{flex:1;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px}
    .bubble{max-width:72%;padding:10px 12px;border-radius:12px;font-size:14px;line-height:1.4}
    .user{align-self:flex-end;background:#e6f0ff;color:#002244;border-bottom-right-radius:4px}
    .bot{align-self:flex-start;background:#f1f5f9;color:#0b2133}
    .controls{display:flex;gap:8px;padding-top:8px}
    .input{flex:1;padding:10px;border:1px solid #e6eef8;border-radius:8px}
    button{background:var(--accent);color:white;padding:10px 12px;border:none;border-radius:8px;cursor:pointer}
    button.secondary{background:#eef2ff;color:var(--accent);border:1px solid rgba(11,108,246,0.12)}
    select{padding:6px;border-radius:6px;border:1px solid #ccc;}
    .sidebar{display:flex;flex-direction:column;gap:12px}
    .section-title{font-weight:600;margin-bottom:8px;color:#0b2540}
    .small{font-size:13px;color:var(--muted)}
    .list{display:flex;flex-direction:column;gap:8px}
    .center-card{padding:10px;border-radius:8px;border:1px solid #eef4ff;background:linear-gradient(180deg,#ffffff,#fbfdff)}
    .row{display:flex;gap:8px;align-items:center}
    footer{grid-column:1/-1;text-align:center;margin-top:12px;color:var(--muted);font-size:13px}
    @media (max-width:980px){.app{grid-template-columns:1fr;}.sidebar{order:2}}
  </style>
</head>
<body>
  <header>
    <div class="card">
      <h1 style="font-size:20px">üåê AI Public Health Chatbot</h1>
      <p class="small">Voice ‚Ä¢ Symptoms ‚Ä¢ Vaccination centers</p>
      <div style="margin-top:8px">
        üåè <label for="langSel">Language:</label>
        <select id="langSel">
          <option value="en">English</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
          <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
        </select>
      </div>
    </div>
  </header>

  <main class="app">
    <section class="card chat" aria-label="Chat area">
      <div class="messages" id="messages" aria-live="polite"></div>

      <div class="controls">
        <input id="userInput" class="input" placeholder="Type here..." />
        <button id="sendBtn">Send</button>
        <button id="micBtn" class="secondary" title="Voice input">üéô</button>
        <button id="speakBtn" class="secondary" title="Read reply">üîä</button>
      </div>
    </section>

    <aside class="sidebar">
      <div class="card">
        <div class="section-title">Vaccination Centers</div>
        <div class="row" style="margin-bottom:8px">
          <input id="cityInput" class="input" placeholder="Enter city..." />
          <button id="searchCenters">Search</button>
        </div>
        <div id="centersList" class="list small"></div>
      </div>
    </aside>

    <footer>
      Prototype ‚Äî not for clinical use.
    </footer>
  </main>

  <script>
    // --- Translations ---
    const translations = {
      en: {
        welcome: "Welcome! Ask about symptoms or vaccination centers.",
        noMatch: "I couldn't match those symptoms. Please provide more details.",
        sideEffects: "Common vaccine side effects: mild fever, soreness, fatigue.",
        hello: "Hello! I can help with symptoms, vaccine info, and centers.",
        found: "Possible match:"
      },
      hi: {
        welcome: "‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§Ø‡§æ ‡§ü‡•Ä‡§ï‡§æ‡§ï‡§∞‡§£ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§",
        noMatch: "‡§Æ‡•à‡§Ç ‡§á‡§® ‡§≤‡§ï‡•ç‡§∑‡§£‡•ã‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§∞‡•ã‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡§æ‡§Ø‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§î‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§Ç‡•§",
        sideEffects: "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§¶‡•Å‡§∑‡•ç‡§™‡•ç‡§∞‡§≠‡§æ‡§µ: ‡§π‡§≤‡•ç‡§ï‡§æ ‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§á‡§Ç‡§ú‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡•ç‡§•‡§≤ ‡§™‡§∞ ‡§¶‡§∞‡•ç‡§¶, ‡§•‡§ï‡§æ‡§®‡•§",
        hello: "‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§≤‡§ï‡•ç‡§∑‡§£, ‡§µ‡•à‡§ï‡•ç‡§∏‡•Ä‡§® ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§",
        found: "‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§∞‡•ã‡§ó:"
      },
      or: {
        welcome: "‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§! ‡¨≤‡¨ï‡≠ç‡¨∑‡¨£ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨ü‡¨ø‡¨ï‡¨æ‡¨ï‡¨∞‡¨£ ‡¨ï‡≠á‡¨®‡≠ç‡¨¶‡≠ç‡¨∞ ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§",
        noMatch: "‡¨Æ‡≠Å‡¨Å ‡¨è‡¨π‡¨ø ‡¨≤‡¨ï‡≠ç‡¨∑‡¨£‡¨∞‡≠Å ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∞‡≠ã‡¨ó ‡¨™‡¨π‡¨ø‡¨ö‡¨æ‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡¨ø‡¨≤‡¨ø ‡¨®‡¨æ‡¨π‡¨ø‡¨Å‡•§ ‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨¨‡¨ø‡¨¨‡¨∞‡¨£‡≠Ä ‡¨¶‡¨ø‡¨Ö‡•§",
        sideEffects: "‡¨∏‡¨æ‡¨ß‡¨æ‡¨∞‡¨£ ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨ï‡≠ç‡¨∞‡¨ø‡≠ü‡¨æ: ‡¨∏‡¨æ‡¨®‡¨æ ‡¨ú‡≠ç‡≠±‡¨∞, ‡¨¨‡≠á‡¨¶‡¨®‡¨æ, ‡¨ï‡≠ç‡¨≤‡¨æ‡¨®‡≠ç‡¨§‡¨ø‡•§",
        hello: "‡¨®‡¨Æ‡¨∏‡≠ç‡¨ï‡¨æ‡¨∞! ‡¨Æ‡≠Å‡¨Å ‡¨≤‡¨ï‡≠ç‡¨∑‡¨£, ‡¨ü‡¨ø‡¨ï‡¨æ ‡¨∏‡≠Ç‡¨ö‡¨®‡¨æ ‡¨ì ‡¨ï‡≠á‡¨®‡≠ç‡¨¶‡≠ç‡¨∞ ‡¨∏‡¨π‡¨æ‡≠ü‡¨§‡¨æ ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡≠á‡•§",
        found: "‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨∞‡≠ã‡¨ó:"
      }
    };

    let currentLang = "en";

    // --- Disease Database with Prevention ---
    const diseaseDB = [
      {
        name:{en:"Common Cold",hi:"‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§ú‡•Å‡§ï‡§æ‡§Æ",or:"‡¨∏‡¨æ‡¨ß‡¨æ‡¨∞‡¨£ ‡¨∏‡¨∞‡≠ç‡¨¶‡¨ø"},
        symptoms:["sneezing","runny nose","congestion","sore throat"],
        desc:{
          en:"A viral infection causing sneezing, sore throat, and congestion.",
          hi:"‡§Ø‡§π ‡§è‡§ï ‡§µ‡§æ‡§Ø‡§∞‡§≤ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§õ‡•Ä‡§Ç‡§ï, ‡§ó‡§≤‡•á ‡§Æ‡•á‡§Ç ‡§ñ‡§∞‡§æ‡§∂ ‡§î‡§∞ ‡§ú‡§ï‡§°‡§º‡§® ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
          or:"‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨≠‡¨æ‡¨á‡¨∞‡¨æ‡¨≤ ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∞‡¨Æ‡¨£, ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨∞‡≠ç‡¨¶‡¨ø, ‡¨ó‡¨≥‡¨æ ‡¨Ø‡¨®‡≠ç‡¨§‡≠ç‡¨∞‡¨£‡¨æ ‡¨ì ‡¨ú‡¨Æ‡¨æ‡¨ü‡¨æ‡¨£‡¨æ ‡¨π‡≠Å‡¨è‡•§"
        },
        prevention:{
          en:"Wash hands frequently, avoid close contact with sick people, stay hydrated.",
          hi:"‡§π‡§æ‡§• ‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ ‡§ß‡•ã‡§è‡§Ç, ‡§¨‡•Ä‡§Æ‡§æ‡§∞ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§∏‡•á ‡§¶‡•Ç‡§∞‡•Ä ‡§¨‡§®‡§æ‡§è‡§Å, ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç‡•§",
          or:"‡¨π‡¨æ‡¨§ ‡¨∏‡¨æ‡¨ß‡¨æ‡¨∞‡¨£‡¨§‡¨É ‡¨ß‡≠ã‡¨Ü‡¨®‡≠ç‡¨§‡≠Å, ‡¨Ö‡¨∏‡≠Å‡¨∏‡≠ç‡¨• ‡¨¨‡≠ç‡≠ü‡¨ï‡≠ç‡¨§‡¨ø‡¨ô‡≠ç‡¨ï‡≠Å ‡¨è‡¨°‡¨º‡¨æ‡¨®‡≠ç‡¨§‡≠Å, ‡¨™‡¨æ‡¨£‡¨ø ‡¨™‡¨ø‡¨Ü‡¨®‡≠ç‡¨§‡≠Å‡•§"
        }
      },
      {
        name:{en:"Influenza (Flu)",hi:"‡§á‡§®‡•ç‡§´‡•ç‡§≤‡•Ç‡§è‡§Ç‡§ú‡§æ (‡§´‡•ç‡§≤‡•Ç)",or:"‡¨á‡¨®‡≠ç‚Äå‡¨´‡≠ç‡¨≤‡≠Å‡¨è‡¨û‡≠ç‡¨ú‡¨æ (‡¨´‡≠ç‡¨≤‡≠Å)"},
        symptoms:["fever","chills","body ache","cough","fatigue"],
        desc:{
          en:"A contagious viral infection with fever, chills, and body aches.",
          hi:"‡§Ø‡§π ‡§è‡§ï ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§æ‡§Æ‡§ï ‡§µ‡§æ‡§Ø‡§∞‡§≤ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§†‡§Ç‡§° ‡§≤‡§ó‡§®‡§æ ‡§î‡§∞ ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§¶‡§∞‡•ç‡§¶ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
          or:"‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∞‡¨æ‡¨Æ‡¨ï ‡¨≠‡¨æ‡¨á‡¨∞‡¨æ‡¨≤ ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∞‡¨Æ‡¨£, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞‡≠á ‡¨ú‡≠ç‡≠±‡¨∞, ‡¨ï‡¨æ‡¨Æ‡≠ç‡¨™‡¨® ‡¨ì ‡¨∂‡¨∞‡≠Ä‡¨∞‡≠á ‡¨¨‡≠á‡¨¶‡¨®‡¨æ ‡¨π‡≠Å‡¨è‡•§"
        },
        prevention:{
          en:"Get vaccinated annually, wash hands, avoid crowded places.",
          hi:"‡§π‡§∞ ‡§∏‡§æ‡§≤ ‡§ü‡•Ä‡§ï‡§æ‡§ï‡§∞‡§£ ‡§ï‡§∞‡§µ‡§æ‡§è‡§Å, ‡§π‡§æ‡§• ‡§ß‡•ã‡§è‡§Ç, ‡§≠‡•Ä‡§°‡§º ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§",
          or:"‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨¨‡¨∞‡≠ç‡¨∑ ‡¨ü‡¨ø‡¨ï‡¨æ‡¨ï‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å, ‡¨π‡¨æ‡¨§ ‡¨ß‡≠ã‡¨Ü‡¨®‡≠ç‡¨§‡≠Å, ‡¨≠‡¨ø‡¨°‡¨º‡¨ï‡≠Å ‡¨è‡¨°‡¨º‡¨æ‡¨®‡≠ç‡¨§‡≠Å‡•§"
        }
      },
      {
        name:{en:"Malaria",hi:"‡§Æ‡§≤‡•á‡§∞‡§ø‡§Ø‡§æ",or:"‡¨Æ‡¨æ‡¨≤‡≠á‡¨∞‡¨ø‡¨Ü"},
        symptoms:["fever","chills","sweating","headache"],
        desc:{
          en:"A mosquito-borne disease causing fever and chills.",
          hi:"‡§Ø‡§π ‡§Æ‡§ö‡•ç‡§õ‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§´‡•à‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§∞‡•ã‡§ó ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§¨‡•Å‡§ñ‡§æ‡§∞ ‡§î‡§∞ ‡§†‡§Ç‡§° ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à‡•§",
          or:"‡¨è‡¨π‡¨æ ‡¨Æ‡¨æ‡¨õ‡¨ø‡¨∞‡≠á ‡¨™‡≠ç‡¨∞‡¨∏‡¨æ‡¨∞‡¨ø‡¨§ ‡¨∞‡≠ã‡¨ó, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞‡≠á ‡¨ú‡≠ç‡≠±‡¨∞ ‡¨ì ‡¨ï‡¨æ‡¨Æ‡≠ç‡¨™‡¨® ‡¨π‡≠Å‡¨è‡•§"
        },
        prevention:{
          en:"Use mosquito nets, apply repellents, remove stagnant water.",
          hi:"‡§Æ‡§ö‡•ç‡§õ‡§∞‡§¶‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç, ‡§∞‡§ø‡§™‡•á‡§≤‡•á‡§Ç‡§ü ‡§≤‡§ó‡§æ‡§è‡§Å, ‡§∞‡•Å‡§ï‡•á ‡§π‡•Å‡§è ‡§™‡§æ‡§®‡•Ä ‡§ï‡•ã ‡§π‡§ü‡§æ‡§è‡§Å‡•§",
          or:"‡¨Æ‡¨∂‡¨æ‡¨∞‡¨ø ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å, ‡¨∞‡¨ø‡¨™‡≠á‡¨≤‡≠á‡¨£‡≠ç‡¨ü ‡¨≤‡¨ó‡¨æ‡¨®‡≠ç‡¨§‡≠Å, ‡¨∞‡≠Å‡¨ï‡¨ø‡¨•‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨£‡¨ø‡¨ï‡≠Å ‡¨π‡¨ü‡¨æ‡¨®‡≠ç‡¨§‡≠Å‡•§"
        }
      },
      {
        name:{en:"Dengue",hi:"‡§°‡•á‡§Ç‡§ó‡•Ç",or:"‡¨°‡≠á‡¨ô‡≠ç‡¨ó‡≠Å"},
        symptoms:["high fever","rash","joint pain","headache"],
        desc:{
          en:"A mosquito-borne viral disease with high fever, rash, and joint pain.",
          hi:"‡§Ø‡§π ‡§Æ‡§ö‡•ç‡§õ‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§´‡•à‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§µ‡§æ‡§Ø‡§∞‡§≤ ‡§∞‡•ã‡§ó ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§§‡•á‡§ú ‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§ö‡§ï‡§§‡•ç‡§§‡•á ‡§î‡§∞ ‡§ú‡•ã‡§°‡§º‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¶‡§∞‡•ç‡§¶ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
          or:"‡¨è‡¨π‡¨æ ‡¨Æ‡¨æ‡¨õ‡¨ø‡¨∞‡≠á ‡¨™‡≠ç‡¨∞‡¨∏‡¨æ‡¨∞‡¨ø‡¨§ ‡¨≠‡¨æ‡¨á‡¨∞‡¨æ‡¨≤ ‡¨∞‡≠ã‡¨ó, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞‡≠á ‡¨â‡¨ö‡≠ç‡¨ö ‡¨ú‡≠ç‡≠±‡¨∞, ‡¨ö‡¨ï‡¨§‡¨ø ‡¨ì ‡¨∏‡¨®‡≠ç‡¨ß‡¨ø‡¨¨‡≠á‡¨¶‡¨®‡¨æ ‡¨π‡≠Å‡¨è‡•§"
        },
        prevention:{
          en:"Prevent mosquito breeding, wear full sleeves, use nets and repellents.",
          hi:"‡§Æ‡§ö‡•ç‡§õ‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§™‡•ç‡§∞‡§ú‡§®‡§® ‡§ï‡•ã ‡§∞‡•ã‡§ï‡•á‡§Ç, ‡§™‡•Ç‡§∞‡•Ä ‡§¨‡§æ‡§ú‡•Ç ‡§ï‡•á ‡§ï‡§™‡§°‡§º‡•á ‡§™‡§π‡§®‡•á‡§Ç, ‡§Æ‡§ö‡•ç‡§õ‡§∞‡§¶‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§",
          or:"‡¨Æ‡¨∂‡¨æ ‡¨™‡≠ç‡¨∞‡¨ú‡¨®‡¨® ‡¨∞‡≠ã‡¨ï‡¨®‡≠ç‡¨§‡≠Å, ‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£‡¨¨‡¨æ‡¨π‡≠Å ‡¨™‡≠ã‡¨∂‡¨æ‡¨ï ‡¨™‡¨ø‡¨®‡≠ç‡¨ß‡¨®‡≠ç‡¨§‡≠Å, ‡¨Æ‡¨∂‡¨æ‡¨∞‡¨ø ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§"
        }
      },
      {
        name:{en:"Typhoid",hi:"‡§ü‡§æ‡§á‡§´‡§æ‡§á‡§°",or:"‡¨ü‡¨æ‡¨á‡¨´‡¨è‡¨°‡≠ç"},
        symptoms:["fever","weakness","abdominal pain","constipation","rash"],
        desc:{
          en:"A bacterial infection with fever, weakness, and stomach pain.",
          hi:"‡§Ø‡§π ‡§è‡§ï ‡§¨‡•à‡§ï‡•ç‡§ü‡•Ä‡§∞‡§ø‡§Ø‡§≤ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§ï‡§Æ‡§ú‡•ã‡§∞‡•Ä ‡§î‡§∞ ‡§™‡•á‡§ü ‡§¶‡§∞‡•ç‡§¶ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
          or:"‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨¨‡≠ç‡≠ü‡¨æ‡¨ï‡≠ç‡¨ü‡≠á‡¨∞‡¨ø‡¨Ü‡¨≤ ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∞‡¨Æ‡¨£, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞‡≠á ‡¨ú‡≠ç‡≠±‡¨∞, ‡¨¶‡≠Å‡¨∞‡≠ç‡¨¨‡¨≥‡¨§‡¨æ ‡¨ì ‡¨™‡≠á‡¨ü ‡¨Ø‡¨®‡≠ç‡¨§‡≠ç‡¨∞‡¨£‡¨æ ‡¨π‡≠Å‡¨è‡•§"
        },
        prevention:{
          en:"Drink clean water, wash hands, eat hygienic food.",
          hi:"‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ ‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç, ‡§π‡§æ‡§• ‡§ß‡•ã‡§è‡§Ç, ‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ ‡§≠‡•ã‡§ú‡§® ‡§ñ‡§æ‡§è‡§Å‡•§",
          or:"‡¨∏‡¨´‡¨æ ‡¨™‡¨æ‡¨£‡¨ø ‡¨™‡¨ø‡¨Ü‡¨®‡≠ç‡¨§‡≠Å, ‡¨π‡¨æ‡¨§ ‡¨ß‡≠ã‡¨Ü‡¨®‡≠ç‡¨§‡≠Å, ‡¨∏‡≠ç‡≠±‡¨ö‡≠ç‡¨õ ‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü ‡¨ñ‡¨æ‡¨Ü‡¨®‡≠ç‡¨§‡≠Å‡•§"
        }
      }
      // ‚ö† Add remaining 45 diseases here in same format
    ];

    // --- Vaccination Centers ---
    const vaccinationCenters = [
      {city:"Pune", name:"City Health Center Pune", address:"123 MG Road"},
      {city:"Mumbai", name:"Mumbai Central Clinic", address:"Marine Drive"},
      {city:"Delhi", name:"AIIMS Delhi", address:"Ansari Nagar"},
      {city:"Bhubaneswar", name:"Capital Hospital", address:"Unit 6"}
    ];

    // --- Chat ---
    const messagesEl = document.getElementById("messages");
    const userInput = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");
    const langSel = document.getElementById("langSel");
    let lastBotReply="";

    function appendMessage(txt, from="bot"){
      const div=document.createElement("div");
      div.className="bubble "+(from==="user"?"user":"bot");
      div.textContent=txt;
      messagesEl.appendChild(div);
      messagesEl.scrollTop=messagesEl.scrollHeight;
      if(from==="bot") lastBotReply=txt;
    }

    function botReply(txt){
      setTimeout(()=>appendMessage(txt,"bot"),300);
    }

    function findDiseaseBySymptoms(input){
      const results=[];
      diseaseDB.forEach(d=>{
        if(d.symptoms.some(s=>input.includes(s))) results.push(d);
      });
      return results;
    }

    function handleUserText(txt){
      appendMessage(txt,"user");
      const t=txt.toLowerCase();

      if(t.includes("hello")||t.includes("hi")) return botReply(translations[currentLang].hello);
      if(t.includes("side effect")) return botReply(translations[currentLang].sideEffects);

      // Vaccination search inside chat
      const cityMatch=vaccinationCenters.find(c=>t.includes(c.city.toLowerCase()));
      if(cityMatch) return botReply(${cityMatch.city}: ${cityMatch.name}, ${cityMatch.address});

      // Disease check
      const matches=findDiseaseBySymptoms(t);
      if(matches.length){
        let reply=translations[currentLang].found+"\n";
        matches.forEach(m=>{
          reply+=üëâ ${m.name[currentLang]}\n;
          reply+=`   üìñ ${m.desc[currentLang]}\n`;
          if(m.prevention) reply+=`   üõ° Prevention: ${m.prevention[currentLang]}\n\n`;
        });
        return botReply(reply);
      }

      return botReply(translations[currentLang].noMatch);
    }

    sendBtn.onclick=()=>{
      const txt=userInput.value.trim();
      if(!txt) return;
      handleUserText(txt);
      userInput.value="";
    };

    langSel.onchange=()=>{
      currentLang=langSel.value;
      appendMessage(translations[currentLang].welcome);
      if(recognizer) recognizer.lang=(currentLang==="hi"?"hi-IN":currentLang==="or"?"or-IN":"en-IN");
    };

    // --- Vaccination Sidebar Search ---
    document.getElementById("searchCenters").onclick=()=>{
      const city=document.getElementById("cityInput").value.trim().toLowerCase();
      const list=document.getElementById("centersList");
      list.innerHTML="";
      const found=vaccinationCenters.filter(c=>c.city.toLowerCase().includes(city));
      if(!found.length){list.innerHTML="No centers found";return;}
      found.forEach(c=>{
        const div=document.createElement("div");
        div.className="center-card";
        div.textContent=${c.city}: ${c.name}, ${c.address};
        list.appendChild(div);
      });
    };

    // --- Voice input/output ---
    let recognizer=null;
    const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
    const synth=window.speechSynthesis;

    if(SpeechRecognition){
      recognizer=new SpeechRecognition();
      recognizer.lang="en-IN";
      recognizer.onresult=e=>{
        const text=e.results[0][0].transcript;
        userInput.value=text;
        handleUserText(text);
      };
    }

    document.getElementById("micBtn").onclick=()=>{
      if(!recognizer) return alert("Speech recognition not supported");
      recognizer.lang=(currentLang==="hi"?"hi-IN":currentLang==="or"?"or-IN":"en-IN");
      recognizer.start();
    };

    document.getElementById("speakBtn").onclick=()=>{
      if(!synth||!lastBotReply) return;
      const ut=new SpeechSynthesisUtterance(lastBotReply);
      ut.lang=(currentLang==="hi"?"hi-IN":currentLang==="or"?"or-IN":"en-IN");
      synth.cancel(); synth.speak(ut);
    };

    // Welcome
    appendMessage('Namaste! Main public health assistant hoon. Aap apna symptoms likh kar send karein ‚Äî responses milenge.');

      
    </script>
</body>

</html>
